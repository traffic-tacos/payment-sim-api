syntax = "proto3";

package common.v1;

option go_package = "github.com/traffic-tacos/payment-sim-api/gen/go/proto/common/v1";

// Money represents monetary amounts
message Money {
  int64 amount = 1;     // Amount in smallest currency unit (e.g., cents)
  string currency = 2;  // Currency code (e.g., "KRW", "USD")
}

// Error represents structured error information
message Error {
  ErrorCode code = 1;
  string message = 2;
  string trace_id = 3;
  repeated ErrorDetail details = 4;
}

// Error codes used across services
enum ErrorCode {
  ERROR_CODE_UNSPECIFIED = 0;
  ERROR_CODE_INVALID_REQUEST = 1;
  ERROR_CODE_UNAUTHORIZED = 2;
  ERROR_CODE_FORBIDDEN = 3;
  ERROR_CODE_NOT_FOUND = 4;
  ERROR_CODE_CONFLICT = 5;
  ERROR_CODE_INTERNAL_ERROR = 6;
  ERROR_CODE_SERVICE_UNAVAILABLE = 7;
  ERROR_CODE_PAYMENT_FAILED = 8;
  ERROR_CODE_PAYMENT_EXPIRED = 9;
}

// Additional error details
message ErrorDetail {
  string field = 1;
  string message = 2;
}